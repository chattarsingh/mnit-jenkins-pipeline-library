---
    apiVersion: apps/v1
    
    kind: Deployment
    
    metadata:
    
      name: %APP_NAME%-deployment
    
      namespace: %NAMESPACE% 
    
    spec:
    
      selector:
    
        matchLabels:
    
          app: %APP_NAME%
    
      replicas: 1
    
      template:
    
        metadata:
    
          labels:
    
            app: %APP_NAME%
    
        spec:
    
          containers:
    
          - name: %APP_NAME%
    
            image: %DOCKER_REGISTRY%%APP_NAME%:latest
    
            ports:
    
            - containerPort: %CONTAINER_PORT%
    
    ---
    
    kind: Service
    
    apiVersion: v1
    
    metadata:
    
      name: %APP_NAME%-svc
    
      namespace: %NAMESPACE% 
    
    spec:
    
      selector:
    
        app: %APP_NAME%
    
      ports:
    
      - port: %HOST_PORT%
      externalIPs:
    
        - %HOST_IP%
      type: LoadBalancer #ClusterIP # LoadBalancer # NodePort # 